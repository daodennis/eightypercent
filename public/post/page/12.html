<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Post &middot; 80%</title>

    
    
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/eightypercent.css">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-93698-1', 'auto');
      ga('send', 'pageview');

    </script>
  </head>
  <body>

    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header pull-left">
          <a href="/" class="navbar-brand">80%</a>
        </div>
        <div class="navbar-header navbar-text pull-right">
          Joe Beda &middot; <a href="http://www.twitter.com/jbeda" class="navbar-link">@jbeda</a>
        </div>
      </div>
    </nav>

  <div class="container">
    
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00161.html">Holiday parties</a></h2>
        <span class="lead">Mon, Dec 22, 2003</span>
        <div class="post">
          <p>

    <p>
        I went to a great holiday party last night thrown by my neighbors, Bob and Carol.&#160;
        We moved in quite a while ago&#160;but hadn't really had a chance to interact with
        any of our neighbors yet.&#160; This was a great opportunity for us to not only chat
        with our hosts, but also others from around the neighborhood.&#160; It turns out that
        the internet makes the world even smaller.&#160; Bob had run across my blog and already
        knew more about me (or at least my work!) than I knew about him.
    </p>
    <p>
        I also chatted with our neighbors on the other side, Gary and Marge.&#160; Gary is
        a long time photographer that just recently went digital with a Canon 10D and a sweet
        lens setup.&#160; He sent me a link to some of <a href="http://pbase.com/mgmoogk">his
        images</a>.&#160; These were done with film -- a Pentax 6x7 that he recently sold.&#160;
        I really need to get off of my butt and put together a gallery of some of my better
        up on the net.
    </p>

</p>

        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00160.html">Avalon Changeable pattern</a></h2>
        <span class="lead">Fri, Dec 5, 2003</span>
        <div class="post">
          <p>

    <p>
        <a href="http://weblogs.asp.net/greg_schechter/">Greg Schechter</a> (whose office
        is right next to mine) has a new blog and has posted some <a href="http://weblogs.asp.net/greg_schechter/posts/41362.aspx">great
        info</a> on the Avalon Changeable pattern.&#160; This pattern was originally developed
        for the graphics space but is useful in many other places.&#160; I was going to write
        about changeables at some point but Greg beat me to it.
    </p>

</p>

        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00159.html">Avalon Job Opening</a></h2>
        <span class="lead">Thu, Dec 4, 2003</span>
        <div class="post">
          <p>

    Apply <a href="http://www.microsoft.com/careers/search/details.aspx?JobID=4dfb0b89-fdd4-497d-83cb-13162ad8e2c3">here</a> for
    a job working on Avalon.&#160; Specifically, this job is for our very cool timing
    and animation team.&#160; We are a pretty dynamic team so the actual responsibilities&#160;may
    include other parts of Avalon graphics depending on who we get and what their skills
    are.
</p>

        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00158.html">Avalon Visuals</a></h2>
        <span class="lead">Tue, Dec 2, 2003</span>
        <div class="post">
          <p>

    <p>
        <a href="http://weblogs.asp.net/dmarsh/">Drew Marsh</a>&#160;posted an interesting
        article entitled "<a href="http://weblogs.asp.net/dmarsh/posts/40626.aspx">Avalon
        Dissected</a>."&#160; It is great to see people taking an interest in Avalon at this
        level.&#160; However, he got some of the details around Visuals wrong. 
    </p>
    <p>
        The graphics system in Avalon is new and is built to take advantage of the hardware.&#160;
        Beyond this, there is a software engine for the cases when the hardware isn't supported.&#160;
        On top of this, we've built a "scene graph" system that natively supports animation
        and remoting.&#160; In the normal case, the actual rendering of the scene graph is
        done on a dedicated composition thread where third party code isn't allowed to run.&#160;
        The description of everything on screen and some primitive animation information is
        passed to this thread so that the rendering can happen independently of what is going
        on with the regular UI thread.&#160; In the case when you are running an Avalon application
        from a remote machine (via Terminal Services or Remote Desktop) with an advanced client,
        this composition thread will run on the remote machine and the actual rendering of
        the scene graph will happen without any network traffic.&#160; Some animations will
        be able to run on the remote machine without network traffic also.&#160; 
    </p>
    <p>
        From the programming model point of view, a node in our scene graph is&#160;called <a href="http://longhorn.msdn.microsoft.com/?//longhorn.msdn.microsoft.com/lhsdk/ref/ns/msavalon.windows.media/c/visual/visual.aspx">Visual</a>.&#160;
        There are different types of visuals that are intended to be used for different purposes.&#160;
        It is also important to note that UIElement derives from Visual so every UIElement <em>is-a</em> Visual.&#160;
        (At one point an Element <em>had-a</em> visual but this was changed with the rearchitecture
        that <a href="http://www.simplegeek.com">ChrisAn</a> <a href="http://www.simplegeek.com/PermaLink.aspx/359c73aa-4711-4061-b9d9-16300d8d278e">talks
        about</a>.) 
    </p>
    <p>
        Every Visual implements an interface called <a href="http://longhorn.msdn.microsoft.com/?//longhorn.msdn.microsoft.com/lhsdk/ref/ns/msavalon.windows.media/i/ivisual/ivisual.aspx">IVisual</a>.&#160;
        There is no situation where a third user should be implementing IVisual.&#160; The
        reason that we created this interface is so that we can use&#160;<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/csref/html/vcwlkExplicitInterfaceImplementationTutorial.asp">explicit
        interface implementation</a> to hide the methods on IVisual.&#160; We didn't want
        to pollute the public object model for UIElement (and Button, etc.) with things that
        most users weren't going to be using. 
    </p>
    <p>
        A Visual has the following capabilities: 
    </p>
    <ul>
        <li>
            Children with a transform on each child 
        </li>
        <li>
            Opacity 
        </li>
        <li>
            Clip 
        </li>
        <li>
            Content (defined differently for each visual type) 
        </li>
        <li>
            Hit testing services 
        </li>
        <li>
            Coordinate transformation services 
        </li>
        <li>
            Bounding box services 
        </li>
        <li>
            And in the future: blend mode and effect 
        </li>
    </ul>
    <p>
        For each visual, the content of that visual is rendered followed by the children,
        from left to right.&#160; The Z-order of any children are completely implied by their
        order in the visual tree.
    </p>
    <p>
        Different specializations of Visual provide for specific types of content and for
        different flavors of public programming model.&#160; Here are the main ones: 
    </p>
    <ul>
        <li>
            <a href="http://longhorn.msdn.microsoft.com/?//longhorn.msdn.microsoft.com/lhsdk/ref/ns/msavalon.windows.media/c/containervisual/containervisual.aspx">ContainerVisual</a>.&#160;
            This Visual has all of its&#160;capabilities reflected publically and has no intrinsic
            content. 
        </li>
        <li>
            <a href="http://longhorn.msdn.microsoft.com/?//longhorn.msdn.microsoft.com/lhsdk/ref/ns/msavalon.windows.media/c/drawingvisual/drawingvisual.aspx">DrawingVisual</a>.&#160;
            This Visual also has all of its capabilties reflected publically.&#160; Its content
            is 2D vector data that is stored with it.&#160; You can think of it holding on to
            a "metafile."&#160; The way you change the content is&#160;call&#160;<a href="http://longhorn.msdn.microsoft.com/?//longhorn.msdn.microsoft.com/lhsdk/ref/ns/msavalon.windows.media/c/drawingvisual/m/renderopen.aspx">DrawingVisual.RenderOpen</a>,
            get a DrawingContext and draw with that. 
        </li>
        <li>
            <a href="http://longhorn.msdn.microsoft.com/?//longhorn.msdn.microsoft.com/lhsdk/ref/ns/msavalon.windows.media/c/retainedvisual/retainedvisual.aspx">RetainedVisual</a>.&#160;
            This guy is special.&#160;&#160;He is meant to be derived from.&#160; This is the
            Visual that UIElement derives from.&#160; All of the services and properties are available
            either via private functions (RenderOpen) or via the IVisual interface only.&#160;
            This visual can work in two modes: 
            <ul>
                <li>
                    Fully retained.&#160; This is the default case.&#160; In this case the visual is exacly
                    like&#160;a DrawingVisual except the IVisual members are not reexposed in a public
                    way.&#160; RenderOpen is also protected instead of private. 
                </li>
                <li>
                    On&#160;demand&#160;retained.&#160; If the&#160;derived class implements <a href="http://longhorn.msdn.microsoft.com/?//longhorn.msdn.microsoft.com/lhsdk/ref/ns/msavalon.windows.media/i/iretainedrender/iretainedrender.aspx">IRetainedRender</a>&#160;and
                    sets the protected <a href="http://longhorn.msdn.microsoft.com/?//longhorn.msdn.microsoft.com/lhsdk/ref/ns/msavalon.windows.media/c/retainedvisual/p/renderbounds.aspx">RenderBounds</a> property,
                    then <a href="http://longhorn.msdn.microsoft.com/?//longhorn.msdn.microsoft.com/lhsdk/ref/ns/msavalon.windows.media/i/iretainedrender/m/render.aspx">IRetainedRender.Render</a> will
                    be called back as necessary to fill in the "metafile" for this Visual.&#160; They
                    system looks at the tree and decides, based on the RenderBounds, if this Visual is
                    on screen.&#160; If it is, then the system calls IRetainedRender.Render and&#160;the
                    derived class writes into the "metafile" via&#160;a DrawingContext passed.&#160; The
                    system then caches that metafile.&#160; If the Visual is then pushed off screen for
                    some reason(scrolling, perhaps), then the system is free to throw away the cached
                    metafile to save space.&#160; The user can force the system to throw away the metafile
                    by calling the protected RetainedVisual.InvalidateVisual call.</li>
            </ul>
        </li>
    </ul>
    <p>
        When it comes time to render (scheduled via the Dispatcher class and coordinated with
        the animation system and layout) the system will walk the tree and decide what is
        and isn't on screen.&#160; It will then call render on any RetainedVisuals as necessary
        and cache the result.&#160; It also updates the data on the other thread for what
        is on screen so that the render can happen async from what is going on on the UI thread.&#160;
        In this way, there is no "render" happening on the UI thread in the normal case.&#160;
        Instead we are "compiling" the scene graph down to a simpler representation to run
        asynchronously on another thread or on another machine.
    </p>
    <p>
        The bits that we shipped in the PDC don't have this system fully implemented.&#160;
        For example, the composition thread isn't running completely async and we don't have
        rich TS support in.&#160; Come beta, more of our system will be completed and up and
        working.
    </p>
    <p>
        I'm sure that this is confusing and that I've missed some stuff, so feel free to ask
        questions and I'll do my best to answer.
    </p>

</p>

        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00157.html">More HT thinking</a></h2>
        <span class="lead">Sat, Nov 29, 2003</span>
        <div class="post">
          <p>

    <p>
        Chris -- Thanks for the <a href="http://www.simplegeek.com/PermaLink.aspx/c8dae103-c610-4829-bc2d-d9fcb32be084">comments</a> on
        my theater plans.&#160; I really want to come over and see your setup as long as you
        promise me I won't drown.
    </p>
    <p>
        Chris mentioned Paradigms.&#160; I have a set of Paradigm Reference Studio/40 v2 and
        I love them.&#160; I don't want to take those and repurpose them from my living room
        to my theater so I'm starting over from that respect.&#160; Getting a full HT setup
        with the Studio line is probably more than I want to spend.&#160; However, I've been
        reading good things about the Monitor series.&#160; If I can get a good price on them
        from north of the border, I'll probably do that.&#160; (I was thinking B&amp;W too,
        but I like the sound of my Studio/40s.)
    </p>
    <p>
        With respect to the Infocus ScreenPlay 4800, that projector is just the Infocus X1
        repackaged for the home theater retail channel.&#160; It costs a good $300 more for
        essentially the same projector.&#160; I think that I'm going to up the ante a little
        bit and I now have a <a href="http://www.projectorcentral.com/Sanyo-PLV-Z2.htm">Sanyo</a> <a href="http://www.projectorcentral.com/sanyo_plv_z2.htm">Z2</a> on
        order.&#160; This is a much higher resolution (720p native) 16:9 LCD projector.&#160;
        It costs more, but I think that the resolution is going to be worth it.&#160; Supposedly
        the latest round of LCD projectors have the contrast ratio that the DLPs are famous
        for.&#160; Beyond this the Z2 has a DVI input.
    </p>
    <p>
        I couldn't get the deal on the Yamaha RXV1400 that I thought I could (even though
        I love the idea of a feedback based autocalibration feature) so I'm thinking the Denon
        3803 now.&#160; My current 2ch reciever is a Denon and I'm pretty happy with that.&#160;
        I'll see if I can get a good deal on the 3803.
    </p>
    <p>
        Beyond that, I'm going to paint the wall or go with&#160;painted fiber board to begin
        with and then look at buying a screen.&#160; I'm not sure what size I want yet!&#160;
        (6.25ftx3.5ft sounds good to start with.)
    </p>
    <p>
        Doing this whole home theater thing is a blast!&#160; There is so much to learn and
        read.&#160; There are tons of good forums and review sites.&#160; The process of just
        figuring out what I'm going to get is a huge undertaking in and of itself.
    </p>

</p>

        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00156.html">Death Valley Photo Workshop</a></h2>
        <span class="lead">Fri, Nov 28, 2003</span>
        <div class="post">
          <p>

    <p>
        If you are at all interested in photography, you might want to try out a workshop.&#160;
        I went on one to Death Valley last year with Steve Kossack.&#160; He knows the area
        like the back of his hand and runs a great workshop.&#160; You get up before dawn
        to shoot the sunrise, take it easy during the afternoon and then stay up past sunset.
    </p>
    <p>
        <a href="http://www.luminous-landscape.com/workshops/sk-dv-03.shtml">Here</a>&#160;is
        a page describing the upcoming workshop March 4-8.&#160; I'm actually in the first
        picture on that page (second from the left).&#160; If you end up doing it, let Steve
        know I sent you!
    </p>

</p>

        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00155.html">Home Theater</a></h2>
        <span class="lead">Fri, Nov 28, 2003</span>
        <div class="post">
          <p>

    <p>
        If you haven't noticed, I've haven't been posting in a while!&#160; I don't know about
        you, but I've been in a little bit of a funk after the PDC.&#160; It was really exciting
        but now it is back to life as usual. 
    </p>
    <p>
        In any case, as a Christmas present for me and Rachel, I'm turning our basement room
        (23'x13'x9') in to a home theater.&#160; We aren't doing anything super elaborate,
        but I figured I'd put out what I'm doing to see if anyone has comments: 
    </p>
    <p>
        Projector: Infocus X1<br />
        Screen: Home Depot Special DIY<br />
        Reciever: Yamaha RXV1400<br />
        Speakers: Axiom M22ti, QS4 and VP150.&#160; SS16 stands.<br />
        Subwoofer: SVS 20-39PCi (thinking about the PC+)<br />
        Interconnects (Audio and Video): DIY ala this <a href="http://www.bus.ucf.edu/cwhite/theater/DIYCable.htm">link</a> 
        <br />
        Speaker cable: DIY 4x14 guage wire from Parts Express (<a href="http://www.partsexpress.com/pe/pshowdetl.cfm?&amp;DID=7&amp;Partnumber=100-770">100-770</a>)
        with screw on banana clips 
    </p>
    <p>
        We are planning on getting some new furniture down there along with painting the walls
        and such.&#160; 
    </p>
    <p>
        Anyone have any suggestions?&#160; 
    </p>

</p>

        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00154.html">How about some Longhorn UI here?</a></h2>
        <span class="lead">Thu, Nov 6, 2003</span>
        <div class="post">
          <p>

    Eric Terrell wrote me asking me to point to his interesting looking <a href="http://www.personalmicrocosms.com/html/cspcalc.html">RPN
    calculator</a> project.&#160; Hey Eric, how about playing around with longhorn and
    doing the UI in Avalon?
</p>

        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00153.html">Avalon, XAML and SVG</a></h2>
        <span class="lead">Tue, Nov 4, 2003</span>
        <div class="post">
          <p>

    <p>
        There has been a ton of speculation on SVG and its relationship (or lack thereof)
        to Avalon.&#160; Here is some thoughts on that, collected from various responses I've
        made or others have made. 
    </p>
    <ul>
        <li>
            Our rendering model is very much like that of SVG.&#160; We support a hierarchical
            compositing model with transforms that affect items in the hiearchy. 
        </li>
        <li>
            Our markup isn't the same mostly because XAML is a direct reflection of the programming
            model.&#160; There is a very solid relationship between the markup and the objects
            and methods. 
        </li>
        <li>
            Our OM doesn't match the SVG DOM because we choose to go with an object model that
            more closely matches what we think <em>our</em> users expect.&#160; Specifically,
            we tried hard to make sure that our object model provided a certain amount of consistency
            with WinForms (and VB and MFC before it)&#160;and ASP.Net.&#160; Beyond this, our
            object model is strongly typed where much of the SVG DOM is based around strings.&#160; 
        </li>
        <li>
            WVG is a term that we are no longer using and isn't, in my opinion, very useful.&#160;
            We were supposed to have scrubbed this from our documentation, but apparently we missed
            some stuff.&#160; There is no strick subset of Avalon objects and XAML markup that
            stands on its own with respect to vector graphics.&#160; 
            <ul>
                <li>
                    Whereas when using SVG inside of XHTML there is a very&#160;bright line, when using
                    a vector graphic element in a UI authored in XAML, there is no sharp line.&#160; You
                    can put a Rectangle element, for example, in flow with a document without a Canvas
                    element.&#160; To do a similar thing with XHTML/SVG, you would need to wrap all SVG
                    content in an SVG element.&#160; 
                </li>
                <li>
                    For Avalon, the set of properties and property types is the same between vector graphics
                    elements and other elements.&#160; In this way the background property for a Button
                    is of type Brush -- the same as the fill property for a Rectangle. 
                </li>
                <li>
                    There are elements that can very easily be seen to belong to both a control subset
                    and a vector graphics subset.&#160; For example, Image makes sense in a UI sense but
                    also in a VG sense.&#160; XHTML and SVG both have image elements.&#160; We avoid this
                    duplicity.&#160; Text is another area where we avoid a large amount of duplication. 
                </li>
            </ul>
        </li>
        <li>
            While we share a rendering model with SVG to a large extent, our support and features
            don't match up completely.&#160; Some of it is stuff that we haven't implemented yet
            and others are due to choices that we've made because of programming model concerns.&#160;
            I'll try to put together a guide on this stuff at some point in the future.</li>
    </ul>
    <p>
        I'm sure there are questions around SVG and XAML/Avalon that I haven't answered here.&#160;
        Post in the comments and I'll update this post with the latest and greatest.
    </p>

</p>

        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-offset-2 col-sm-8">
        <h2><a href="/post/old/00152.html">I hate Avalon</a></h2>
        <span class="lead">Tue, Nov 4, 2003</span>
        <div class="post">
          <p>

    <p>
        Actually, I'm proud of the work that we are doing on Avalon, but I hate the name.&#160;
        It just sounds lame and dorky to me.&#160; I guess this is what you get when you vote
        on a code name.&#160; Aero and Indigo are much better names.&#160; In fact, the shell
        team has the best code names:&#160;Aero, Jade, Luna, Plex.&#160; I guess it is because
        they have designers who are creative types.
    </p>
    <p>
        The worst code name I can think of right now was for NT4.&#160; It started out being
        just and update to the shell.&#160; So, it was called the "Shell Update Release" that
        got abbreviated SUR.&#160; They even made T-Shirts that said "We don't need any stinkin'
        code name."
    </p>
    <p>
        Anyone haved examples of other really bad code names for projects?
    </p>

</p>

        </div>
      </div>
    </div>
    

    

  <nav>
    <ul class="pager">
      <li class="previous">
        <a href="/post/page/11.html"><span aria-hidden="true">&larr;</span> Newer</a>
      </li>
      <li class="next">
        <a href="/post/page/13.html">Older <span aria-hidden="true">&rarr;</span></a>
      </li>
    </ul>
  </nav>

          <footer>
        <nav class="footer navbar-default clearfix container-fluid">
          <div class="row">
            <div class="pull-left navbar-text">
              <span class="text-nowrap">&copy; 2003-2015 Joe Beda</span>
              <span class="text-nowrap"><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" class="navbar-link">CC by-nc-nd 4.0</a></span>
            </div>
            <div class="navbar-text pull-right"><a class="navbar-link" href="#top">Back to top</a></div>
          </nav>
        </div>
      </footer>

  </div>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    
    <script src="/js/bootstrap.min.js"></script>
  </body>
</html>


